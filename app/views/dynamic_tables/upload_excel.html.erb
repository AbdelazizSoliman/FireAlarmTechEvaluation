<!-- app/views/dynamic_tables/upload_excel.html.erb -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <title>Import Tables from Excel</title>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
  </head>
  <body class="bg-gray-50 min-h-screen p-8">
    <div class="max-w-3xl mx-auto">
      <h1 class="text-2xl font-bold mb-6">Import Tables from Excel</h1>

      <% if flash[:error] %>
        <div class="mb-4 p-3 bg-red-100 text-red-800"><%= flash[:error] %></div>
      <% end %>

      <form
        id="excel-upload-form"
        action="<%= admin_import_excel_tables_path %>"
        method="post"
        enctype="multipart/form-data"
        class="space-y-4"
      >
        <%= hidden_field_tag :authenticity_token, form_authenticity_token %>
        <%= hidden_field_tag :subsystem_id, @subsystem_id %>

        <div>
          <label class="block font-medium">Select an Excel file:</label>
          <input
            type="file"
            name="excel_file"
            accept=".xlsx"
            required
            class="mt-1 block w-full border-gray-300 rounded"
          />
        </div>

        <button
          type="submit"
          class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"
        >
          Import Tables
        </button>
      </form>
    </div>
  </body>
</html>
