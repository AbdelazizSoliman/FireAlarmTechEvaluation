<!-- app/views/reports/show_comparison_report.html.erb -->
<h1>Comparison for <%= @subsystem.name %></h1>

<% @comparison_data.each do |table_name, by_supplier| %>
  <section class="mb-8">
    <h2 class="text-xl font-bold"><%= table_name.titleize %></h2>
    <table class="w-full border">
      <thead class="bg-gray-200">
        <tr>
          <th class="px-2 py-1">Attribute</th>
          <% by_supplier.keys.each do |sup_name| %>
            <th class="px-2 py-1"><%= sup_name %></th>
          <% end %>
        </tr>
      </thead>
      <tbody>
        <% columns = by_supplier.values.first.keys.sort %>
        <% columns.each do |col| %>
          <tr class="border-t">
            <td class="px-2 py-1"><%= col.humanize %></td>
            <% by_supplier.each_value do |attrs| %>
              <td class="px-2 py-1"><%= attrs[col] || 'â€“' %></td>
            <% end %>
          </tr>
        <% end %>
      </tbody>
    </table>
  </section>
<% end %>
